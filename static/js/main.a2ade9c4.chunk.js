(this["webpackJsonpmovie-watchlist"]=this["webpackJsonpmovie-watchlist"]||[]).push([[0],{19:function(t,e,a){},30:function(t,e,a){},33:function(t,e,a){},39:function(t,e,a){"use strict";a.r(e);var s=a(1),c=a.n(s),i=a(22),n=a.n(i),r=(a(30),a(7)),o=a(8),l=a(10),h=a(9),d=(a(14),a(25)),j=a(12),u=a.n(j),b=a(16),m=a(0),p=function(t){return Object(m.jsx)("div",{class:"social-btn",children:Object(m.jsxs)("button",{style:{background:"#691b25"},onClick:t.handleClick,children:[Object(m.jsx)("i",{class:"fas fa-play"})," ",t.heading]})})},v=(a(33),function(t){Object(l.a)(a,t);var e=Object(h.a)(a);function a(t){var s;return Object(r.a)(this,a),(s=e.call(this,t)).getMovieRequest=Object(b.a)(u.a.mark((function t(){var e,a,c;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e="http://www.omdbapi.com/?i="+s.props.match.params.id+"&apikey=283116eb",console.log("url",e),t.next=4,fetch(e);case 4:return a=t.sent,t.next=7,a.json();case 7:c=t.sent,s.setState({data:c});case 9:case"end":return t.stop()}}),t)}))),s.routeChange=function(){s.props.history.push("/")},s.addToWatchList=function(){var t;localStorage.setItem("react-movie-app-watchlist",JSON.stringify([])),t=s.state.watchlist.length>0?[].concat(Object(d.a)(s.state.watchlist),[s.state.data]):[s.state.data],console.log("new watch list",t),localStorage.setItem("react-movie-app-watchlist",JSON.stringify(t)),window.location.reload()},s.removeFromWatchList=function(){var t=s.state.watchlist.filter((function(t){return t.imdbID!==s.state.data.imdbID}));localStorage.setItem("react-movie-app-watchlist",JSON.stringify(t)),window.location.reload()},s.state={data:{},watchlist:[]},s}return Object(o.a)(a,[{key:"componentWillMount",value:function(){this.getMovieRequest();var t=JSON.parse(localStorage.getItem("react-movie-app-watchlist"));t&&(this.setState({watchlist:t}),console.log("watchlist",t))}},{key:"checkInWatchList",value:function(){for(var t=0;t<this.state.watchlist.length;++t){this.state.watchlist[t].imdbID,this.state.data.imdbID}}},{key:"render",value:function(){for(var t="Add to Watchlist",e=this.addToWatchList,a=0;a<this.state.watchlist.length;++a){this.state.watchlist[a].imdbID===this.state.data.imdbID&&(t="Remove From Watchlist",e=this.removeFromWatchList)}return Object(m.jsxs)("div",{class:"wrapper",children:[Object(m.jsx)("div",{class:"socail-btn ",children:Object(m.jsxs)("button",{style:{background:"#691b25"},onClick:this.routeChange,children:[Object(m.jsx)("i",{class:"fas fa-play"})," Back"]})}),Object(m.jsxs)("div",{class:"main_card",children:[Object(m.jsx)("div",{class:"card_left",children:Object(m.jsxs)("div",{class:"card_datails",children:[Object(m.jsx)("h1",{children:this.state.data.Title}),Object(m.jsxs)("div",{class:"card_cat",children:[Object(m.jsx)("p",{class:"PG",children:this.state.data.Rated}),Object(m.jsx)("p",{class:"year",children:this.state.data.Year}),Object(m.jsxs)("p",{class:"genre",children:[this.state.data.Genre," "]}),Object(m.jsx)("p",{class:"time",children:this.state.data.Runtime})]}),Object(m.jsx)("p",{class:"disc",children:this.state.data.Plot}),Object(m.jsx)(p,{heading:t,handleClick:e})]})}),Object(m.jsx)("div",{class:"card_right",children:Object(m.jsx)("img",{src:this.state.data.Poster,alt:""})})]})]})}}]),a}(c.a.Component)),O=(a(19),function(t){Object(l.a)(a,t);var e=Object(h.a)(a);function a(t){return Object(r.a)(this,a),e.call(this,t)}return Object(o.a)(a,[{key:"render",value:function(){var t=this;return console.log("movies",this.props.movies),this.props.movies?Object(m.jsx)(m.Fragment,{children:this.props.movies.map((function(e,a){return Object(m.jsxs)("div",{className:"image-container d-flex justify-content-start",onClick:function(){t.props.handleClick(e)},children:[Object(m.jsx)("img",{src:e.Poster,alt:e.Title}),Object(m.jsx)("div",{})]})}))}):Object(m.jsx)("h1",{})}}]),a}(c.a.Component)),f=function(t){return Object(m.jsx)("div",{className:"col",children:Object(m.jsxs)("h1",{children:[" ",t.heading]})})},x=function(t){Object(l.a)(a,t);var e=Object(h.a)(a);function a(t){var s;return Object(r.a)(this,a),(s=e.call(this,t)).getMovieRequest=Object(b.a)(u.a.mark((function t(){var e,a,c;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e="http://www.omdbapi.com/?s="+s.state.search+"&apikey=283116eb",t.next=3,fetch(e);case 3:return a=t.sent,t.next=6,a.json();case 6:c=t.sent,s.setState({movies:c.Search}),console.log(s.state.search);case 9:case"end":return t.stop()}}),t)}))),s.goTo=function(t){var e="movie/"+t.imdbID;console.log(t.imdbID),s.props.history.push(e)},s.state={movies:[],search:"",watchlist:[]},s}return Object(o.a)(a,[{key:"componentWillMount",value:function(){var t=JSON.parse(localStorage.getItem("react-movie-app-watchlist"));t&&this.setState({watchlist:t})}},{key:"componentDidUpdate",value:function(t,e,a){e.search!==this.state.search&&this.getMovieRequest()}},{key:"render",value:function(){var t=this;return Object(m.jsxs)("div",{className:"container-fluid scroll",children:[Object(m.jsxs)("div",{className:"row",children:[Object(m.jsx)(f,{heading:"Movies"}),Object(m.jsx)("div",{className:"col col-sm-2",children:Object(m.jsx)("input",{className:"form-control",value:this.state.search,onChange:function(e){return t.setState({search:e.target.value})},placeHolder:"Search"})})]}),Object(m.jsx)("div",{className:"row",children:Object(m.jsx)(O,{movies:this.state.movies,handleClick:this.goTo})}),Object(m.jsx)("div",{className:"row d-flex align-items-center mt-4 mb-4",children:Object(m.jsx)(f,{heading:"Watchlist"})}),Object(m.jsx)("div",{className:"row",children:Object(m.jsx)(O,{movies:this.state.watchlist,handleClick:this.goTo})})]})}}]),a}(c.a.Component),g=a(15),w=a(2),k=function(t){Object(l.a)(a,t);var e=Object(h.a)(a);function a(){return Object(r.a)(this,a),e.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return Object(m.jsx)(g.a,{children:Object(m.jsx)("div",{children:Object(m.jsxs)(w.c,{children:[Object(m.jsx)(w.a,{path:"/deploy_movie_app",component:x,exact:!0}),",",Object(m.jsx)(w.a,{path:"/deploy_movie_app/movie/:id",component:v})]})})})}}]),a}(c.a.Component),y=function(t){t&&t instanceof Function&&a.e(3).then(a.bind(null,40)).then((function(e){var a=e.getCLS,s=e.getFID,c=e.getFCP,i=e.getLCP,n=e.getTTFB;a(t),s(t),c(t),i(t),n(t)}))};n.a.render(Object(m.jsx)(c.a.StrictMode,{children:Object(m.jsx)(k,{})}),document.getElementById("root")),y()}},[[39,1,2]]]);
//# sourceMappingURL=main.a2ade9c4.chunk.js.map